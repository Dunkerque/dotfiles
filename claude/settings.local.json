{
  "permissions": {
    "allow": [
      "Bash(vm_stat:*)",
      "Bash(iostat:*)",
      "Bash(diskutil list:*)",
      "Bash(sysctl:*)",
      "Bash(log show:*)",
      "Bash(top:*)",
      "Bash(diskutil info:*)",
      "Bash(mdutil -s:*)",
      "Bash(defaults read:*)",
      "Bash(tmutil status:*)",
      "Bash(# Voir les 123 connexions réseau — par processus lsof -i -n)",
      "Bash(du:*)",
      "Bash(# Vérifier la memory pressure via les logs Apple \\(indicateur rouge/jaune/vert\\) log show --last 2h --predicate ''subsystem contains \"\"memorypressure\"\" or subsystem contains \"\"vm\"\" or \\(subsystem contains \"\"kernel\"\" and eventMessage contains \"\"memory\"\"\\)'')",
      "Bash(sort:*)",
      "Bash(# Regarder si Warp fait des reconnexions ou des erreurs — cause possible de freeze réseau log show --last 1h --predicate ''process == \"\"stable\"\" or subsystem contains \"\"warp\"\" or subsystem contains \"\"cloudflare\"\"'')",
      "Bash(ps:*)",
      "Bash(# Snapshot des PAGEINS de chaque processus suspect — avant top -l 1 -n 700 -F)",
      "Bash(# Vérifier Handy.app — qu''est-ce que c''est exactement # Regarder ses fichiers ouverts lsof -p 44272)",
      "Bash(# Surveiller mds_stores spécifiquement — log d''indexation log show --last 30m --predicate ''process == \"\"mds_stores\"\" or process == \"\"mds\"\" or process == \"\"mdworker_shared\"\"'')",
      "Bash(# Voir les fichiers ouverts en ÉCRITURE par Handy lsof -p 44272)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:api.github.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(npm pack:*)",
      "Bash(tar:*)",
      "Bash(# Chercher spécifiquement les patterns vertex et gemini auth dans le bundle grep -oE ''.{0,80}\\(vertex|VERTEX|vertexAi|vertex_ai|accessToken|access_token|gcloud|application.default|oauth|Bearer\\).{0,80}'' /tmp/package/dist/cli.js)",
      "Bash(# Chercher le code du vertex-gemini transformer spécifiquement grep -oE ''.{0,150}vertex.{0,150}'' /tmp/package/dist/cli.js)",
      "Bash(# Extraire plus du code vertex-gemini — voir comment il gère l''auth grep -oE ''.{0,300}vertex-gemini.{0,300}'' /tmp/package/dist/cli.js)",
      "Bash(# Vous avez déjà le proxy configuré ! Voir la config cat ~/.config/antigravity-proxy/* ; echo \"\"===\"\"; ls -la ~/.config/antigravity-proxy/ ; echo \"\"===GEMINI===\"\"; ls ~/.gemini/antigravity* ; cat ~/.gemini/antigravity)",
      "Bash(# Chercher le token auth de Claude Code dans settings.local et session-env cat ~/.claude/settings.local.json ; echo \"\"===SESSION-ENV===\"\"; ls ~/.claude/session-env/ ; cat ~/.claude/session-env/*)",
      "Bash(# Claude Code auth — vérifier où est le token Anthropic cat ~/.claude/session-env/727f2098-9eca-4694-b621-fdfa2ea6c56a)",
      "Bash(# Démarrer antigravity-claude-proxy en background npx antigravity-claude-proxy@latest start & sleep 3 curl -s http://localhost:8080/account-limits?format=table)",
      "Bash(# Vérifier ccr installé correctement which ccr; ccr --version || ccr --help)",
      "Bash(then)",
      "Bash(echo:*)",
      "Bash(curl:*)",
      "Bash(# Claude Code utilise probablement un token stocké dans un fichier protégé # Regarder dans les possibles locations cat ~/.anthropic/credentials ; echo \"\"===\"\"; cat ~/.config/anthropic/* ; echo \"\"===\"\"; find /private/tmp -name \"\"*anthropic*\"\" -o -name \"\"*claude*auth*\"\")",
      "Bash(security find-internet-password:*)",
      "Bash(# Claude Code peut stocker le token dans le keychain macOS security find-generic-password -s \"\"claude\"\" -w)",
      "Bash(security find-generic-password:*)",
      "Bash(# Le proxy tourne \\(il a retourné du HTML\\). Vérifier avec des quotes propres curl -s ''http://localhost:8080/account-limits?format=table'')",
      "Bash(node -e:*)",
      "Bash(# Start ccr in background and capture output ccr start 2>&1 & CCR_PID=$! echo \"\"PID: $CCR_PID\"\" sleep 3 lsof -i :3456)",
      "Bash(# Fetch the ccr README for custom router format docs curl -s https://raw.githubusercontent.com/musistudio/claude-code-router/main/README.md)",
      "Bash(# Get rest of README — look for custom router section curl -s https://raw.githubusercontent.com/musistudio/claude-code-router/main/README.md)",
      "Bash(done)",
      "Bash(# Check antigravity config to understand how it serves Claude models cat ~/.config/antigravity-proxy/config.json echo \"\"===\"\" # Also check if there''s an API key stored in keychain security find-generic-password -s \"\"anthropic\"\" -a \"\"anthropic\"\")",
      "Bash(npm install)",
      "Bash(uv python install:*)",
      "Bash(uv pip install:*)",
      "Bash(uv venv:*)",
      "Bash(source:*)",
      "Bash(spec-kitty:*)",
      "Bash(open:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git rebase:*)",
      "Bash(npx vite build)",
      "Bash(git checkout:*)",
      "Bash(node:*)",
      "Bash(npm --version:*)",
      "mcp__gemini-design__gemini_design",
      "Bash(cat:*)",
      "Bash(mdfind:*)",
      "Bash(bash:*)",
      "Bash(find:*)",
      "Bash(python3:*)",
      "Bash(grep:*)",
      "WebSearch"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "gemini-design"
  ]
}
